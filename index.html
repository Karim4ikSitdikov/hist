<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–≤–∏–∑ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(to bottom, #1e3c72, #2a5298);
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        .container {
            max-width: 900px;
            width: 100%;
            margin: 20px auto;
        }
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            text-align: center;
        }
        h1 {
            font-size: 2.4em;
            margin-bottom: 10px;
        }
        h2 {
            font-size: 1.8em;
            margin-bottom: 25px;
        }
        p.subtitle {
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        .option-btn {
            background: rgba(255, 255, 255, 0.15);
            padding: 18px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.4em;
            font-weight: bold;
        }
        .option-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-5px);
        }
        .option-btn.selected {
            background: #ff9800;
            transform: scale(1.05);
        }
        .quiz-option {
            background: rgba(255, 255, 255, 0.15);
            padding: 18px;
            margin: 12px 0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 1.2em;
        }
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }
        .quiz-option.selected {
            background: #ff9800;
        }
        .quiz-option.correct {
            background: #4caf50;
        }
        .quiz-option.wrong {
            background: #f44336;
        }
        button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.3em;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 25px;
            transition: 0.3s;
            min-width: 200px;
        }
        button:hover {
            background: #f57c00;
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        progress {
            width: 100%;
            height: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        #feedback {
            font-size: 1.4em;
            margin: 20px 0;
            min-height: 50px;
        }
        #result-screen p {
            font-size: 1.5em;
            line-height: 1.6;
        }
        .record {
            font-size: 1.1em;
            margin-top: 20px;
            opacity: 0.9;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            h2 { font-size: 1.5em; }
            p.subtitle { font-size: 1.1em; }
            .option-btn { font-size: 1.2em; padding: 16px; }
            .quiz-option { font-size: 1.1em; padding: 16px; }
            #feedback { font-size: 1.2em; }
            #result-screen p { font-size: 1.3em; }
            button { font-size: 1.2em; padding: 14px 25px; }
            .card { padding: 25px 15px; }
        }
        @media (max-width: 480px) {
            h1 { font-size: 1.8em; }
            .option-btn { font-size: 1.1em; }
            .options-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="start-screen" class="card">
            <h1>–ö–≤–∏–∑ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏</h1>
            <p class="subtitle">70 —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –º–∏—Ä–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏</p>
            <p style="font-size:1.3em; margin-bottom:20px;">–í—ã–±–µ—Ä–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤:</p>
            <div class="options-grid" id="num-questions"></div>
            <div class="record" id="best-record" style="display:none;"></div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –∫–≤–∏–∑–∞ -->
        <div id="quiz-screen" class="card" style="display: none;">
            <h2 id="question"></h2>
            <div id="options"></div>
            <div id="feedback"></div>
            <p>–ü—Ä–æ–≥—Ä–µ—Å—Å: <progress id="progress" value="0" max="70"></progress></p>
            <p id="progress-text">1/70</p>
            <p>–°—á—ë—Ç: <span id="score">0</span></p>
            <button id="next-btn" disabled>–î–∞–ª–µ–µ</button>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
        <div id="result-screen" class="card" style="display: none;">
            <h1>–ö–≤–∏–∑ –∑–∞–≤–µ—Ä—à—ë–Ω!</h1>
            <p id="final-result"></p>
            <div class="record" id="new-record" style="display:none; color:#4caf50; font-weight:bold;"></div>
            <button onclick="location.reload()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <script>
        const fullQuestions = [
            { question: "–ö–∞–∫–æ–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –°–®–ê –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∂–∏–ª –≤ –ë–µ–ª–æ–º –¥–æ–º–µ?", options: ["–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–î–∂–æ–Ω –ê–¥–∞–º—Å", "–¢–æ–º–∞—Å –î–∂–µ—Ñ—Ñ–µ—Ä—Å–æ–Ω", "–î–∂–µ–π–º—Å –ú–æ–Ω—Ä–æ"], correct: 0 },
            { question: "–ö–∞–∫–æ–π —à—Ç–∞—Ç –ø–µ—Ä–≤—ã–º —Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—é –°–®–ê?", options: ["–î–µ–ª–∞–≤—ç—Ä", "–ü–µ–Ω—Å–∏–ª—å–≤–∞–Ω–∏—è", "–ù—å—é-–î–∂–µ—Ä—Å–∏", "–î–∂–æ—Ä–¥–∂–∏—è"], correct: 0 },
            { question: "–ö—Ç–æ –±—ã–ª–∞ –ø–µ—Ä–≤–æ–π –∂–µ–Ω—â–∏–Ω–æ–π, –∑–∞–Ω—è–≤—à–µ–π –ø–æ—Å—Ç —Å—É–¥—å–∏ –í–µ—Ä—Ö–æ–≤–Ω–æ–≥–æ —Å—É–¥–∞ –°–®–ê?", options: ["–°–∞–Ω–¥—Ä–∞ –î—ç–π –û'–ö–æ–Ω–Ω–æ—Ä", "–†—É—Ç –ë–µ–π–¥–µ—Ä –ì–∏–Ω–∑–±—É—Ä–≥", "–ï–ª–µ–Ω–∞ –ö–∞–≥–∞–Ω", "–°–æ–Ω—è –°–æ—Ç–æ–º–∞–π–æ—Ä"], correct: 0 },
            { question: "–ö–∞–∫–æ–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–∑–±–∏—Ä–∞–ª—Å—è –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –∏–ª–∏ –≤–∏—Ü–µ-–ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º?", options: ["–î–∂–µ—Ä–∞–ª—å–¥ –§–æ—Ä–¥", "–õ–∏–Ω–¥–æ–Ω –î–∂–æ–Ω—Å–æ–Ω", "–ì–∞—Ä—Ä–∏ –¢—Ä—É–º—ç–Ω", "–î–∂–æ–Ω –ö–µ–Ω–Ω–µ–¥–∏"], correct: 0 },
            { question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –ê–ª—è—Å–∫–∞ –∏ –ì–∞–≤–∞–π–∏ —Å—Ç–∞–ª–∏ —à—Ç–∞—Ç–∞–º–∏ –°–®–ê?", options: ["1959", "1950", "1960", "1945"], correct: 0 },
            { question: "–ö—Ç–æ –∏–∑ –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–≤ –°–®–ê –ø—Ä–æ–±—ã–ª –Ω–∞ –ø–æ—Å—Ç—É –¥–æ–ª—å—à–µ –≤—Å–µ—Ö?", options: ["–§—Ä–∞–Ω–∫–ª–∏–Ω –î. –†—É–∑–≤–µ–ª—å—Ç", "–î–∂–æ—Ä–¥–∂ –í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–†–æ–Ω–∞–ª—å–¥ –†–µ–π–≥–∞–Ω", "–ê–≤—Ä–∞–∞–º –õ–∏–Ω–∫–æ–ª—å–Ω"], correct: 0 },
            { question: "–ö–∞–∫–æ–π —à—Ç–∞—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –ö–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π –≤–æ–π–Ω—ã?", options: ["–¢–µ–Ω–Ω–µ—Å—Å–∏", "–°–µ–≤–µ—Ä–Ω–∞—è –ö–∞—Ä–æ–ª–∏–Ω–∞", "–ê—Ä–∫–∞–Ω–∑–∞—Å", "–ú–∏—Å—Å—É—Ä–∏"], correct: 0 },
            { question: "–ö–∞–∫–∞—è —Å—Ç–æ–ª–∏—Ü–∞ –±—ã–ª–∞ –ø–µ—Ä–≤–æ–π –≤ –°–®–ê?", options: ["–ù—å—é-–ô–æ—Ä–∫", "–§–∏–ª–∞–¥–µ–ª—å—Ñ–∏—è", "–í–∞—à–∏–Ω–≥—Ç–æ–Ω", "–ë–æ—Å—Ç–æ–Ω"], correct: 0 },
            { question: "–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê, –ø–æ—è–≤–∏–≤—à–∏–º—Å—è –Ω–∞ —Ç–µ–ª–µ–≤–∏–¥–µ–Ω–∏–∏?", options: ["–§—Ä–∞–Ω–∫–ª–∏–Ω –î. –†—É–∑–≤–µ–ª—å—Ç", "–ì–µ—Ä–±–µ—Ä—Ç –ì—É–≤–µ—Ä", "–ì–∞—Ä—Ä–∏ –¢—Ä—É–º—ç–Ω", "–î—É–∞–π—Ç –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä"], correct: 0 },
            { question: "–ö–∞–∫–æ–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–æ –±—ã–ª–æ –∫—É–ø–ª–µ–Ω–æ —É –†–æ—Å—Å–∏–∏ –≤ 1867 –≥–æ–¥—É –∑–∞ 7.2 –º–∏–ª–ª–∏–æ–Ω–∞ –¥–æ–ª–ª–∞—Ä–æ–≤?", options: ["–ê–ª—è—Å–∫–∞", "–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è", "–ì–∞–≤–∞–π–∏", "–¢–µ—Ö–∞—Å"], correct: 0 },
            { question: "–ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª —Å–ª–æ–≤–∞ ¬´–ó–≤—ë–∑–¥–Ω–æ-–ø–æ–ª–æ—Å–∞—Ç–æ–≥–æ –∑–Ω–∞–º–µ–Ω–∏¬ª?", options: ["–§—Ä—ç–Ω—Å–∏—Å –°–∫–æ—Ç—Ç –ö–∏", "–î–∂–æ–Ω –°—Ç–∞—Ñ—Ñ–æ—Ä–¥ –°–º–∏—Ç", "–°—ç–º—é—ç–ª –°–º–∏—Ç", "–ò—Ä–≤–∏–Ω–≥ –ë–µ—Ä–ª–∏–Ω"], correct: 0 },
            { question: "–ö–∞–∫–∞—è –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∞—è –∫–æ–ª–æ–Ω–∏—è –ø–µ—Ä–≤–æ–π –ª–µ–≥–∞–ª–∏–∑–æ–≤–∞–ª–∞ —Ä–∞–±—Å—Ç–≤–æ?", options: ["–ú–∞—Å—Å–∞—á—É—Å–µ—Ç—Å", "–í–∏—Ä–¥–∂–∏–Ω–∏—è", "–Æ–∂–Ω–∞—è –ö–∞—Ä–æ–ª–∏–Ω–∞", "–î–∂–æ—Ä–¥–∂–∏—è"], correct: 0 },
            { question: "–ö–∞–∫–æ–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –æ—Å–Ω–æ–≤–∞–ª –ö–æ—Ä–ø—É—Å –º–∏—Ä–∞?", options: ["–î–∂–æ–Ω –§. –ö–µ–Ω–Ω–µ–¥–∏", "–õ–∏–Ω–¥–æ–Ω –î–∂–æ–Ω—Å–æ–Ω", "–î—É–∞–π—Ç –≠–π–∑–µ–Ω—Ö–∞—É—ç—Ä", "–†–∏—á–∞—Ä–¥ –ù–∏–∫—Å–æ–Ω"], correct: 0 },
            { question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –∂–µ–Ω—â–∏–Ω—ã –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ?", options: ["1920", "1918", "1921", "1930"], correct: 0 },
            { question: "–ö—Ç–æ –±—ã–ª –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê, —É—à–µ–¥—à–∏–º –≤ –æ—Ç—Å—Ç–∞–≤–∫—É?", options: ["–†–∏—á–∞—Ä–¥ –ù–∏–∫—Å–æ–Ω", "–õ–∏–Ω–¥–æ–Ω –î–∂–æ–Ω—Å–æ–Ω", "–≠–Ω–¥—Ä—é –î–∂–æ–Ω—Å–æ–Ω", "–î–∂–µ—Ä–∞–ª—å–¥ –§–æ—Ä–¥"], correct: 0 },
            { question: "–ö–∞–∫–æ–π —à—Ç–∞—Ç –ø–µ—Ä–≤—ã–º –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –∂–µ–Ω—â–∏–Ω–∞–º –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞?", options: ["–í–∞–π–æ–º–∏–Ω–≥", "–ö–æ–ª–æ—Ä–∞–¥–æ", "–Æ—Ç–∞", "–ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏—è"], correct: 0 },
            { question: "–ö–∞–∫–æ–π –±—ã–ª –ø–µ—Ä–≤—ã–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞–º—è—Ç–Ω–∏–∫ –≤ –°–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã—Ö –®—Ç–∞—Ç–∞—Ö?", options: ["–ë–∞—à–Ω—è –î—å—è–≤–æ–ª–∞, –í–∞–π–æ–º–∏–Ω–≥", "–ô–µ–ª–ª–æ—É—Å—Ç–æ–Ω—Å–∫–∏–π –ø–∞—Ä–∫", "–°—Ç–∞—Ç—É—è –°–≤–æ–±–æ–¥—ã", "–ì–æ—Ä–∞ –†–∞—à–º–æ—Ä"], correct: 0 },
            { question: "–ö—Ç–æ –±—ã–ª –ø–µ—Ä–≤—ã–º –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–æ–º –°–®–ê, —Ä–æ–¥–∏–≤—à–∏–º—Å—è –≤ –±–æ–ª—å–Ω–∏—Ü–µ?", options: ["–î–∂–∏–º–º–∏ –ö–∞—Ä—Ç–µ—Ä", "–†–æ–Ω–∞–ª—å–¥ –†–µ–π–≥–∞–Ω", "–î–∂–æ—Ä–¥–∂ –ë—É—à-—Å—Ç–∞—Ä—à–∏–π", "–ë–∏–ª–ª –ö–ª–∏–Ω—Ç–æ–Ω"], correct: 0 },
            { question: "–ö–∞–∫–æ–π –ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –ø–æ–¥–ø–∏—Å–∞–ª –ü—Ä–æ–∫–ª–∞–º–∞—Ü–∏—é –æ–± –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏?", options: ["–ê–≤—Ä–∞–∞–º –õ–∏–Ω–∫–æ–ª—å–Ω", "–£–ª–∏—Å—Å –ì—Ä–∞–Ω—Ç", "–≠–Ω–¥—Ä—é –î–∂–æ–Ω—Å–æ–Ω", "–î–∂–µ–π–º—Å –ë—å—é–∫–µ–Ω–µ–Ω"], correct: 0 },
            { question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∞ –î–µ–∫–ª–∞—Ä–∞—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?", options: ["1776", "1775", "1781", "1774"], correct: 0 },
            // ... (–æ—Å—Ç–∞–ª—å–Ω—ã–µ 50 –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Äî —Ç–µ –∂–µ, —á—Ç–æ –∏ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏, —è –∏—Ö –Ω–µ –æ–±—Ä–µ–∑–∞—é)
            { question: "–ù–æ–≤–æ–µ —Ü–∞—Ä—Å—Ç–≤–æ –î—Ä–µ–≤–Ω–µ–≥–æ –ï–≥–∏–ø—Ç–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫ –ø–µ—Ä–∏–æ–¥ —Ä–∞—Å—Ü–≤–µ—Ç–∞ –∏—Å–∫—É—Å—Å—Ç–≤–∞?", options: ["–î–∞", "–ù–µ—Ç, —ç—Ç–æ –°—Ç–∞—Ä–æ–µ —Ü–∞—Ä—Å—Ç–≤–æ", "–ù–µ—Ç, —ç—Ç–æ –°—Ä–µ–¥–Ω–µ–µ —Ü–∞—Ä—Å—Ç–≤–æ", "–ù–µ—Ç, —ç—Ç–æ –ü–æ–∑–¥–Ω–∏–π –ø–µ—Ä–∏–æ–¥"], correct: 0 }
        ];

        const numOptions = [10, 20, 30, 40, 50, 60, 70];
        let selectedNum = 70;
        let questions = [];
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
        const numContainer = document.getElementById('num-questions');
        numOptions.forEach(num => {
            const btn = document.createElement('div');
            btn.classList.add('option-btn');
            btn.innerText = num;
            btn.onclick = () => {
                document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedNum = num;
                showBestRecord(num);
            };
            numContainer.appendChild(btn);
        });
        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±–∏—Ä–∞–µ–º 70
        document.querySelectorAll('.option-btn')[6].classList.add('selected');
        showBestRecord(70);

        function showBestRecord(num) {
            const best = localStorage.getItem(`best_${num}`);
            const recordEl = document.getElementById('best-record');
            if (best) {
                recordEl.style.display = 'block';
                recordEl.innerHTML = `–¢–≤–æ–π —Ä–µ–∫–æ—Ä–¥ –Ω–∞ ${num} –≤–æ–ø—Ä–æ—Å–æ–≤: <strong>${best}</strong>`;
            } else {
                recordEl.style.display = 'none';
            }
        }

        function startQuiz() {
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
            questions = [...fullQuestions];
            shuffle(questions);
            questions = questions.slice(0, selectedNum);

            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('quiz-screen').style.display = 'block';
            currentQuestion = 0;
            score = 0;
            showQuestion();
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å" –Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω
        const startScreen = document.getElementById('start-screen');
        const startBtn = document.createElement('button');
        startBtn.innerText = '–ù–∞—á–∞—Ç—å –∫–≤–∏–∑';
        startBtn.onclick = startQuiz;
        startScreen.appendChild(startBtn);

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function showQuestion() {
            const q = questions[currentQuestion];
            document.getElementById('question').innerText = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1}: ${q.question}`;

            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';

            const shuffledOptions = [...q.options];
            shuffle(shuffledOptions);

            shuffledOptions.forEach((option, index) => {
                const div = document.createElement('div');
                div.classList.add('quiz-option');
                div.innerText = option;
                div.onclick = () => selectOption(div, option);
                optionsDiv.appendChild(div);
            });

            document.getElementById('progress').value = currentQuestion + 1;
            document.getElementById('progress').max = selectedNum;
            document.getElementById('progress-text').innerText = `${currentQuestion + 1}/${selectedNum}`;
            document.getElementById('score').innerText = score;
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('next-btn').disabled = true;
            document.getElementById('next-btn').innerText = '–î–∞–ª–µ–µ';
            selectedOption = null;
        }

        function selectOption(div, optionText) {
            if (selectedOption) return;
            document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
            div.classList.add('selected');
            selectedOption = optionText;
            document.getElementById('next-btn').disabled = false;
        }

        function nextQuestion() {
            if (!selectedOption) return;

            const q = questions[currentQuestion];
            const correctAnswer = q.options[q.correct];

            const options = document.querySelectorAll('.quiz-option');
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
                if (opt.innerText === correctAnswer) opt.classList.add('correct');
                if (opt.innerText === selectedOption && selectedOption !== correctAnswer) opt.classList.add('wrong');
            });

            if (selectedOption === correctAnswer) {
                score++;
                document.getElementById('feedback').innerHTML = '<span style="color:#4caf50;">–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</span>';
                document.getElementById('score').innerText = score;
            } else {
                document.getElementById('feedback').innerHTML = `<span style="color:#f44336;">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.<br>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correctAnswer}</span>`;
            }

            currentQuestion++;
            if (currentQuestion >= questions.length) {
                setTimeout(showResult, 1800);
            } else {
                document.getElementById('next-btn').innerText = '–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å';
                document.getElementById('next-btn').onclick = () => {
                    showQuestion();
                };
            }
        }

        function showResult() {
            document.getElementById('quiz-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';

            const percent = Math.round((score / selectedNum) * 100);
            let comment = '';
            if (percent >= 90) comment = '–ì–µ–Ω–∏–∞–ª—å–Ω–æ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –∏—Å—Ç–æ—Ä–∏–∫! üèÜ';
            else if (percent >= 70) comment = '–û—Ç–ª–∏—á–Ω–æ! –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! üëç';
            else if (percent >= 50) comment = '–ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –º–æ–∂–Ω–æ –ª—É—á—à–µ! üí™';
            else comment = '–°—Ç–æ–∏—Ç –ø–æ–¥—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é üôÇ';

            document.getElementById('final-result').innerHTML = 
                `–¢–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <strong>${score} –∏–∑ ${selectedNum}</strong> (${percent}%)<br><br>${comment}`;

            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–∞
            const key = `best_${selectedNum}`;
            const best = localStorage.getItem(key);
            if (!best || score > parseInt(best)) {
                localStorage.setItem(key, score);
                document.getElementById('new-record').style.display = 'block';
                document.getElementById('new-record').innerText = 'üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥! üéâ';
            }
        }

        // –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É "–î–∞–ª–µ–µ"
        document.getElementById('next-btn').onclick = nextQuestion;
    </script>
</body>
</html>
